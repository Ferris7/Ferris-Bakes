@{
    ViewData["Title"] = "Login";
}

@model Preference

<style>
    .column3 {
        flex: 1;
        padding: 5px;
    }

    .row {
        display: flex;
        width: 100%;
    }
    .orderContainer {
        position: relative;
        width: 75%;
        margin-right: auto;
        margin-left: auto;
        margin-top: 10px;
        margin-bottom: 10px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        text-align: center;
        font-family: arial;
        padding: 15px;
        background-color: #eee6f5;
        border-radius: 25px;
        height: 310px;
    }

    .orderImage {
        opacity: 1;
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 10px;
        width: 65%;
        height: 65%;
        transition: .5s ease;
        backface-visibility: hidden;
        border-radius: 50%;
    }

    .price {
        color: grey;
        font-size: 22px;
    }

    .description {
        font-size: 18px;
    }

    .imageCon {
        display: block;
        position: relative;
    }

    .orderBtn {
        transition: .5s ease;
        opacity: 0;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        text-align: center;
        background-color: #555;
        color: white;
        font-size: 16px;
        padding: 12px 24px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
    }

    .size {
        color: grey;
        font-size: 18px;
    }

</style>

<body>
    <div class="text-center" id="orderHeader">
        <h1 class="display-4">Bakes You'll Love!</h1>
        <p>Click the Baker in the bottom right for help customizing.</p>
    </div>

    @for (int i = 0; i < Model.Results.Count; i += 3)
    {
        <div class="row">
            <div class="column3">
                <div class="orderContainer">
                    <h3>@Model.Results[i].Title</h3>
                    <p class="price">@Model.Results[i].Price</p>
                    <p class="size">@Model.Results[i].Size</p>
                    <p class="description">@Model.Results[i].Description</p>
                    <button class="btn btn-info" onclick="addToCart(@Model.Results[i].ReciepeNumber)" id="betterButton">Order Now!</button>
                </div>
            </div>
            <div class="column3">
                @if (i + 1 < Model.Results.Count)
                {
                    <div class="orderContainer">
                        <h3>@Model.Results[i + 1].Title</h3>
                        <p class="price">@Model.Results[i + 1].Price</p>
                        <p class="size">@Model.Results[i + 1].Size</p>
                        <p class="description">@Model.Results[i + 1].Description</p>
                        <button class="btn btn-info" onclick="addToCart(@Model.Results[i].ReciepeNumber)" id="betterButton">Order Now!</button>
                    </div>
                }

            </div>
            <div class="column3">
                @if (i + 2 < Model.Results.Count)
                {
                    <div class="orderContainer">
                        <h3>@Model.Results[i + 2].Title</h3>
                        <p class="price">@Model.Results[i + 2].Price</p>
                        <p class="size">@Model.Results[i + 2].Size</p>
                        <p class="description">@Model.Results[i + 2].Description</p>
                        <button class="btn btn-info" onclick="addToCart(@Model.Results[i].ReciepeNumber)" id="betterButton">Order Now!</button>
                    </div>
                }
            </div>
        </div>
    }

    <script>
        function addToCart(bakeId) {
            $.ajax({
                type: 'POST',
                url: '/ShoppingCart/AddRecipe',
                data: { id: bakeId },
                success: function (result) {
                    alert(result);
                }
            });
        };
    </script>

</body>
